/*	BKDialog 1.0
 **	Dialog plugin used in Blue King
 **	Copyright 2016 blueking
 ** Released on: Aug 19, 2016
 */
var BKDialog=function(options){var o=options||{};var defaults={'title':'标题','content':'<p>欢迎使用Magicbox对话框组件</p>','zIndex':5000,'confirmBtn':'确定','cancelBtn':'取消','confirm':function(){},'cancel':function(){},'onshow':function(){},'onclose':function(){}},opts=$.extend({},defaults,o),dialog=null;var _show=function(){var onshowFn=opts.onshow;onshowFn&&typeof onshowFn=='function'?onshowFn():'';dialog.show()};var _hide=function(){var oncloseFn=opts.onclose;oncloseFn&&typeof oncloseFn=='function'?oncloseFn():'';dialog.hide()};var _render=function(options){var confirmBtn=options.confirmBtn,cancelBtn=options.cancelBtn,title=options.title,content=options.content;var confirmBtnHtml=(typeof confirmBtn=='string'||typeof confirmBtn=='boolean')&&confirmBtn!==false?(confirmBtn!==true?'<a href="javascript:;" class="bkui-btn-dialog primary bkui-confirm-btn" bk-id="ok">'+confirmBtn+'</a>':'<a href="javascript:;" class="bkui-btn-dialog primary bkui-confirm-btn" bk-id="ok">确定</a>'):'',cancelBtnHtml=(typeof cancelBtn=='string'||typeof cancelBtn=='boolean')&&cancelBtn!==false?(cancelBtn!==true?'<a href="javascript:;" class="bkui-btn-dialog default bkui-cancel-btn" bk-id="cancel">'+cancelBtn+'</a>':'<a href="javascript:;" class="bkui-btn-dialog default bkui-cancel-btn" bk-id="cancel">取消</a>'):'',header=(typeof title=='string'||typeof title=='boolean')&&title!==false?(title!==true?'<div class="bkui-basic-header">'+title+'</div>':'<div class="bkui-basic-header"></div>'):'',body=(typeof content=='string'||typeof content=='boolean')&&content!==false?(content!==true?'<div class="bkui-basic-body">'+content+'</div>':'<div class="bkui-basic-body"></div>'):'',html='<div class="bkui-dialog-basic" style="display:none">'+'<div class="bkui-mask"></div>'+'<div class="bkuk-basic-content" style="z-index:'+options.zIndex+'">'+header+body+'<div class="bkui-basic-footer">'+cancelBtnHtml+confirmBtnHtml+'</div>'+'</div>'+'</div>',$html=$(html);$html.appendTo('body');dialog=$html};var _init=function(){_render(opts);dialog.on('click','[bk-id="ok"]',function(){var confirm=opts.confirm;confirm&&typeof confirm=='function'?confirm():'';_hide();dialog.remove()});dialog.on('click','[bk-id="cancel"]',function(){var cancel=opts.cancel;cancel&&typeof cancel=='function'?cancel():'';_hide();dialog.remove()})}();return{show:function(){_show();return this},hide:function(){_hide();return this},remove:function(){dialog.remove()},setContent:function(str){var contentDOM=dialog.find('.bkui-basic-body');if(contentDOM.length){if(str===false){dialog.find('.bkui-basic-body').remove()}else{contentDOM.html(str)}}else{dialog.find('.bkui-basic-footer').before('<div class="bkui-basic-body">'+str+'</div>')}return this},setTitle:function(str){var titleDOM=dialog.find('.bkui-basic-header');if(titleDOM.length){if(str===false){dialog.find('.bkui-basic-header').remove()}else{titleDOM.html(str)}}else{dialog.find('.bkuk-basic-content').prepend('<div class="bkui-basic-header">'+str+'</div>')}return this}}}